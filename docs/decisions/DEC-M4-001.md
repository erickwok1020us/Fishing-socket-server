# DEC-M4-001: Statistical Anomaly Detection

TYPE: DECISION
STATUS: UNRESOLVED
SCOPE: LOCAL
MODULE: M4 â€” Anti-Cheat
AI_ACTION_ALLOWED: 0

## QUESTION

Which algorithms and thresholds for detecting statistical anomalies in player behavior?

## CONTEXT

- Bible M4: "Detect: statistical anomalies"
- Current: Only rate limiting via token bucket (RateLimiter.js)
- No statistical analysis of hit rates, win patterns, or behavioral anomalies
- Need to define what "anomalous" means quantitatively

## OPTIONS

| Option | Algorithm | Description |
|--------|-----------|-------------|
| A | Z-score on hit rate | Flag if hit rate > 3 standard deviations from expected |
| B | Chi-squared on kill distribution | Flag if kill distribution doesn't match expected fish probabilities |
| C | Moving average on win rate | Flag if rolling 100-shot win rate exceeds theoretical maximum |
| D | Combined A + B + C | Most comprehensive, highest complexity |

## DEPENDENCIES

- Requires: DEC-M1-001 (needs server to collect statistics)
- Requires: DEC-M2-001 (need to know expected RTP to define "anomalous")

## ALLOWED ACTIONS

NONE.

## FORBIDDEN ACTIONS

- Do not add statistical tracking code
- Do not modify RateLimiter.js
