# DEC-M6-001: Signed Config for MVP

TYPE: DECISION
STATUS: RESOLVED
SCOPE: GLOBAL
MODULE: M6 — Release & Immutability
AI_ACTION_ALLOWED: 1

## RESOLUTION

**Option C: SHA-256 hash only (no signing, just versioning)**

Config immutability via SHA-256 hash of the complete game config object. Hash included in every receipt. No cryptographic signing for MVP.

RESOLVED BY: Technical analysis — hash-based detection is sufficient for MVP, signing adds complexity without immediate benefit

## RATIONALE

- SHA-256 hash detects any config change (tamper detection)
- Signing (HMAC or Ed25519) proves WHO changed it — less critical for single-player MVP
- Hash is simpler to implement and verify on client side
- If operator changes config, hash changes, receipts show different rules_hash
- Signing can be added post-MVP for regulatory compliance if needed

## IMPLEMENTATION NOTES

- On server start: compute SHA-256 of JSON.stringify(sortedConfig)
- sortedConfig = deterministic JSON serialization (sorted keys)
- Store as CONFIG_HASH constant
- Include CONFIG_HASH as rules_hash in every FishDeath receipt (DEC-M5-001)
- Client verifier checks: all receipts in session have same rules_hash
- Config change = new hash = new version (DEC-M6-002)
