# DEC-M3-002: Seed Commit Scheme

TYPE: DECISION
STATUS: RESOLVED
SCOPE: LOCAL
MODULE: M3 — Crypto Fairness (ZK HP)
AI_ACTION_ALLOWED: 1

## RESOLUTION

**Option A: Server-only CSPRNG seed (server commits hash before spawn)**

Server generates seed using CSPRNG, publishes SHA-256 hash as commitment before fish spawn. Player commit-reveal deferred to multiplayer/post-MVP.

RESOLVED BY: Technical analysis — server-only seed is simpler and sufficient for single-player MVP

## RATIONALE

- Single-player: player does not need to contribute entropy (they are not adversarial to themselves)
- Server-only seed proves server committed HP before player acted
- Mixed entropy (player commit-reveal) adds complexity for marginal single-player benefit
- Player commit-reveal can be added for multiplayer where inter-player fairness matters

## IMPLEMENTATION NOTES

- Server: seed = crypto.randomBytes(32) per spawn batch
- Commitment: SHA-256(seed) published to client before fish appear
- Reveal: on fish death, server sends original seed
- Client verification: hash(revealed_seed) === published_commitment
- Replace Mulberry32 SeededRNG with CSPRNG-based seed
